{% extends 'base.html' %}
    {% load static %}

{% block css %}

{% endblock %}
    
    {% block body %}
    <!-- Product Details Section -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
            <!-- Product Images -->
            <div x-data="{ activeImage: 0 }" class="space-y-4">
                <!-- Main Image -->
                <div class="bg-white rounded-lg p-4 overflow-hidden zoom-hover">
                    <div class="relative aspect-square">
                        <img :src="'{{product.featured_image.url}}'" 
                             alt="Product Image" 
                             class="w-full h-full object-contain transition-transform duration-300">
                    </div>
                </div>
                <!-- Thumbnail Images -->
                <div class="flex gap-4 overflow-x-auto scrollbar-hide pb-2">
                    {% for i in product.thumbnails.all %}
                    <button class="flex-none w-20 h-20 rounded-lg bg-white p-2 border-2 border-primary">
                        <img src="{{i.image.url}}" alt="Thumbnail 1" class="w-full h-full object-contain">
                    </button>
                    {% endfor %}
                   
                </div>
            </div>

            <!-- Product Info -->
            <div class="space-y-6">
                <div>
                    <h1 class="text-2xl font-bold mb-2">{{product.name}}</h1>
                    <div class="flex items-center gap-4 mb-4">
                        <span class="text-3xl font-bold text-primary">৳{{product.discount_price}}</span>
                        <span class="text-lg text-gray-500 line-through">৳{{product.price}}</span>
                        <span class="bg-red-100 text-red-600 px-2 py-1 rounded text-sm font-medium">20% OFF</span>
                    </div>
                    <!-- Rating -->
                    <div class="flex items-center gap-2">
                        <div class="flex items-center">
                            <i data-lucide="star" class="w-5 h-5 text-yellow-400 fill-yellow-400"></i>
                            <i data-lucide="star" class="w-5 h-5 text-yellow-400 fill-yellow-400"></i>
                            <i data-lucide="star" class="w-5 h-5 text-yellow-400 fill-yellow-400"></i>
                            <i data-lucide="star" class="w-5 h-5 text-yellow-400 fill-yellow-400"></i>
                            <i data-lucide="star-half" class="w-5 h-5 text-yellow-400"></i>
                        </div>
                        <span class="text-gray-600">({{product.rating}}/5)</span>
                        <span class="text-gray-600">{{product.num_reviews}} Reviews</span>
                    </div>
                </div>

                <!-- Variant Selection -->
                <div class="space-y-4">
                    
                    
                    <!-- Quantity -->
                    <div>
                        <label class="block text-sm font-medium mb-2">Quantity</label>
                        <div class="flex items-center gap-2">
                            <button class="w-10 h-10 rounded-lg border-2 border-gray-200 flex items-center justify-center hover:border-primary">-</button>
                            <input type="number" value="1" min="1" class="w-20 h-10 border-2 border-gray-200 rounded-lg text-center">
                            <button class="w-10 h-10 rounded-lg border-2 border-gray-200 flex items-center justify-center hover:border-primary">+</button>
                        </div>
                    </div>
                </div>

                <!-- Stock Status -->
                <div class="flex items-center gap-2 text-green-600">
                    <i data-lucide="check-circle" class="w-5 h-5"></i>
                    <span>In Stock ({{product.stock}}+ units)</span>
                </div>

                <div class="max-w-md" x-data="{ showModal: false }">
                    <!-- Buttons Container -->
                    <div class="space-y-3">
                        <!-- Add to Cart Button -->
                        <button class="w-full bg-black text-white py-3 rounded-md hover:bg-black/90 transition-colors">
                            Add to cart
                        </button>
            
                        <!-- Cash on Delivery Button -->
                       <a href="/checkout?product_id={{product.id}}"> <button 
                                class="w-full bg-[#FF8C00] my-2 text-black py-3 rounded-md hover:bg-[#FF8C00]/90 transition-colors flex items-center justify-center gap-2">
                            <i data-lucide="shopping-cart" class="w-5 h-5"></i>
                            Order in Cash On Delivery
                        </button> </a>
            
                        <!-- Chat with us Button -->
                        <button class="w-full bg-black text-white py-3 rounded-md hover:bg-black/90 transition-colors flex items-center justify-center gap-2">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/be/Facebook_Messenger_logo_2020.svg/2048px-Facebook_Messenger_logo_2020.svg.png" 
                                 class="w-5 h-5" alt="Messenger">
                            Chat with us
                        </button>
            
                        <!-- WhatsApp Button -->
                        <button class="w-full bg-black text-white py-3 rounded-md hover:bg-black/90 transition-colors flex items-center justify-center gap-2">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/WhatsApp.svg/767px-WhatsApp.svg.png" 
                                 class="w-5 h-5" alt="WhatsApp">
                            WhatsApp Us
                        </button>
                    </div>
            
                    <!-- Modal -->
                   
                </div>
            
                <!-- Quick Info -->
                <div class="grid grid-cols-2 gap-4 py-4 border-t border-b">
                    <div class="flex items-center gap-3">
                        <i data-lucide="truck" class="w-5 h-5 text-gray-600"></i>
                        <div>
                            <p class="text-sm font-medium">Fast Delivery</p>
                            <p class="text-xs text-gray-500">Within 3-5 working days</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <i data-lucide="refresh-ccw" class="w-5 h-5 text-gray-600"></i>
                        <div>
                            <p class="text-sm font-medium">Easy Returns</p>
                            <p class="text-xs text-gray-500">7 days return policy</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Product Details Tabs -->
        <div x-data="{ activeTab: 'description' }" class="bg-white rounded-lg p-6 mb-12">
            <!-- Tab Headers -->
            <div class="flex gap-8 border-b mb-6">
                <button @click="activeTab = 'description'" 
                        :class="{ 'border-b-2 border-primary text-primary': activeTab === 'description' }"
                        class="pb-4 font-medium">
                    Description
                </button>
                <button @click="activeTab = 'specifications'" 
                        :class="{ 'border-b-2 border-primary text-primary': activeTab === 'specifications' }"
                        class="pb-4 font-medium">
                    Specifications
                </button>
                <button @click="activeTab = 'reviews'" 
                        :class="{ 'border-b-2 border-primary text-primary': activeTab === 'reviews' }"
                        class="pb-4 font-medium">
                    Reviews
                </button>
            </div>

            <!-- Tab Contents -->
            <div x-show="activeTab === 'description'" class="space-y-4">
                <div class="prose">
                    {{product.description|safe}}
                </div>
            </div>

            <div x-show="activeTab === 'specifications'" class="space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="space-y-2">
                        <div class="flex justify-between py-2 border-b">
                            <span class="text-gray-600">Brand</span>
                            <span class="font-medium">Car One BD</span>
                        </div>
                        <div class="flex justify-between py-2 border-b">
                            <span class="text-gray-600">Type</span>
                            <span class="font-medium">Gel Based</span>
                        </div>
                        <div class="flex justify-between py-2 border-b">
                            <span class="text-gray-600">Volume</span>
                            <span class="font-medium">50ml</span>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <div class="flex justify-between py-2 border-b">
                            <span class="text-gray-600">Duration</span>
                            <span class="font-medium">60 Days</span>
                        </div>
                        <div class="flex justify-between py-2 border-b">
                            <span class="text-gray-600">Package Contents</span>
                            <span class="font-medium">1 Air Freshener</span>
                        </div>
                        <div class="flex justify-between py-2 border-b">
                            <span class="text-gray-600">Warranty</span>
                            <span class="font-medium">30 Days</span>
                        </div>
                    </div>
                </div>
            </div>

            <div x-show="activeTab === 'reviews'" class="space-y-6">
                <!-- Review Summary -->
                <div class="flex items-center gap-8">
                    <div class="text-center">
                        <div class="text-5xl font-bold text-primary mb-2">4.5</div>
                        <div class="flex items-center justify-center">
                            <i data-lucide="star" class="w-5 h-5 text-yellow-400 fill-yellow-400"></i>
                            <i data-lucide="star" class="w-5 h-5 text-yellow-400 fill-yellow-400"></i>
                            <i data-lucide="star" class="w-5 h-5 text-yellow-400 fill-yellow-400"></i>
                            <i data-lucide="star" class="w-5 h-5 text-yellow-400 fill-yellow-400"></i>
                            <i data-lucide="star-half" class="w-5 h-5 text-yellow-400"></i>
                        </div>
                        <p class="text-gray-600 mt-1">Based on 128 reviews</p>
                    </div>
                    <div class="flex-1 space-y-2">
                        <div class="flex items-center gap-2">
                            <span class="text-sm text-gray-600">5</span>
                            <div class="flex-1 h-2 bg-gray-200 rounded-full overflow-hidden">
                                <div class="w-[70%] h-full bg-yellow-400"></div>
                            </div>
                            <span class="text-sm text-gray-600">70%</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="text-sm text-gray-600">4</span>
                            <div class="flex-1 h-2 bg-gray-200 rounded-full overflow-hidden">
                                <div class="w-[20%] h-full bg-yellow-400"></div>
                            </div>
                            <span class="text-sm text-gray-600">20%</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="text-sm text-gray-600">3</span>
                            <div class="flex-1 h-2 bg-gray-200 rounded-full overflow-hidden">
                                <div class="w-[5%] h-full bg-yellow-400"></div>
                            </div>
                            <span class="text-sm text-gray-600">5%</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="text-sm text-gray-600">2</span>
                            <div class="flex-1 h-2 bg-gray-200 rounded-full overflow-hidden">
                                <div class="w-[3%] h-full bg-yellow-400"></div>
                            </div>
                            <span class="text-sm text-gray-600">3%</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="text-sm text-gray-600">1</span>
                            <div class="flex-1 h-2 bg-gray-200 rounded-full overflow-hidden">
                                <div class="w-[2%] h-full bg-yellow-400"></div>
                            </div>
                            <span class="text-sm text-gray-600">2%</span>
                        </div>
                    </div>
                </div>

                <!-- Review List -->
                <div class="space-y-6">
                    <!-- Review Item -->
                    <div class="border-b pb-6">
                        <div class="flex items-center gap-4 mb-4">
                            <div class="w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center">
                                <i data-lucide="user" class="w-6 h-6 text-gray-500"></i>
                            </div>
                            <div>
                                <h4 class="font-medium">John Doe</h4>
                                <div class="flex items-center gap-2">
                                    <div class="flex">
                                        <i data-lucide="star" class="w-4 h-4 text-yellow-400 fill-yellow-400"></i>
                                        <i data-lucide="star" class="w-4 h-4 text-yellow-400 fill-yellow-400"></i>
                                        <i data-lucide="star" class="w-4 h-4 text-yellow-400 fill-yellow-400"></i>
                                        <i data-lucide="star" class="w-4 h-4 text-yellow-400 fill-yellow-400"></i>
                                        <i data-lucide="star" class="w-4 h-4 text-yellow-400 fill-yellow-400"></i>
                                    </div>
                                    <span class="text-sm text-gray-500">2 days ago</span>
                                </div>
                            </div>
                        </div>
                        <p class="text-gray-600">
                            Great product! The fragrance is long-lasting and not overwhelming. I've been using it for a month now and still going strong. Highly recommended!
                        </p>
                    </div>

                    <!-- More Review Items -->
                    <div class="border-b pb-6">
                        <div class="flex items-center gap-4 mb-4">
                            <div class="w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center">
                                <i data-lucide="user" class="w-6 h-6 text-gray-500"></i>
                            </div>
                            <div>
                                <h4 class="font-medium">Jane Smith</h4>
                                <div class="flex items-center gap-2">
                                    <div class="flex">
                                        <i data-lucide="star" class="w-4 h-4 text-yellow-400 fill-yellow-400"></i>
                                        <i data-lucide="star" class="w-4 h-4 text-yellow-400 fill-yellow-400"></i>
                                        <i data-lucide="star" class="w-4 h-4 text-yellow-400 fill-yellow-400"></i>
                                        <i data-lucide="star" class="w-4 h-4 text-yellow-400 fill-yellow-400"></i>
                                        <i data-lucide="star" class="w-4 h-4 text-gray-300"></i>
                                    </div>
                                    <span class="text-sm text-gray-500">1 week ago</span>
                                </div>
                            </div>
                        </div>
                        <p class="text-gray-600">
                            Nice fragrance but could last a bit longer. Overall satisfied with the purchase and the quick delivery.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Service Features -->
        <div class="bg-white rounded-lg p-6 mb-12">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Return Policy -->
                <div class="flex flex-col items-center text-center">
                    <img src="{% static 'pay.png' %}" alt="Return Policy" class="w-16 h-16 mb-4">
                    <h3 class="font-semibold mb-1">Secure Payment</h3>
                    <p class="text-gray-600 text-sm">Pay now or choose cash on delivery.</p>
                   
                </div>

                <!-- Quick Delivery -->
                <div class="flex flex-col items-center text-center">
                    <img src="{% static 'delivery.png' %}" alt="Quick Delivery" class="w-16 h-16 mb-4">
                    <h3 class="font-semibold mb-1">Fast Delivery</h3>
                    <p class="text-gray-600 text-sm">Delivery in 1-3 days.</p>
                    
                </div>

                <!-- 100% Original -->
                <div class="flex flex-col items-center text-center">
                    <img src="{% static 'quality.png' %}" alt="100% Original" class="w-16 h-16 mb-4">
                    <h3 class="font-semibold mb-2">100% Original</h3>
                    <p class="text-gray-600 text-sm">Don't worry about quality.</p>
                   
                </div>
            </div>
</div>
            {% endblock %}